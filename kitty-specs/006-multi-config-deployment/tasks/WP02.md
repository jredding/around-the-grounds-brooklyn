---
id: WP02
title: Migrate breweries.json
lane: planned
depends_on: [WP01]
feature: 006-multi-config-deployment
---

# WP02 — Migrate breweries.json

## Goal
Update `around_the_grounds/config/breweries.json` to the new self-contained deployment config shape so it passes schema validation via `load_venue_list`.

## Context
- Upstream-first: clean PR to around-the-grounds main
- Minimalism: only config loading and CLI surface changes — no parser/scraper logic changes
- Prerequisite: spec 004 merged before implementing
- Branch: `006-multi-config-deployment`
- Depends on WP01 (schema must exist to validate the migrated file)
- Can be developed in parallel with WP03 after WP01 is complete

## Subtasks
- [ ] Rename top-level `"breweries"` array key → `"venues"`
- [ ] Add top-level `"list_name": "Ballard Food Trucks"`
- [ ] Add top-level `"target_repo": "https://github.com/steveandroulakis/ballard-food-trucks.git"`
- [ ] Add top-level `"target_branch": "main"`
- [ ] Add top-level `"target_url": "https://ballard-food-trucks.vercel.app"` (informational only)
- [ ] Add `"source_type": "html"` to venues: `stoup-ballard`, `obec-brewing`, `wheelie-pop`
- [ ] Add `"source_type": "api"` to venues: `yonder-balebreaker`, `urban-family`, `chucks-greenwood`, `salehs-corner`
- [ ] Add `"timezone": "America/Los_Angeles"` to all 7 venues
- [ ] Omit `"template_dir"` — built-in `public_template/` is the default; no field needed
- [ ] Validate the migrated file: `python -c "from around_the_grounds.config.loader import load_venue_list; load_venue_list('around_the_grounds/config/breweries.json')"`

## Files to change
- `around_the_grounds/config/breweries.json` — schema migration (rename key, add top-level fields, add per-venue fields)

## Acceptance criteria
- `load_venue_list('around_the_grounds/config/breweries.json')` completes without raising `ConfigValidationError`
- All 7 venues present in the resulting `VenueList.venues` list
- HTML scrapers have `"source_type": "html"`: `stoup-ballard`, `obec-brewing`, `wheelie-pop`
- API/data scrapers have `"source_type": "api"`: `yonder-balebreaker`, `urban-family`, `chucks-greenwood`, `salehs-corner`
- All venues have `"timezone": "America/Los_Angeles"`

## Reviewer notes
- `source_type` is schema-only metadata at this stage — parsers still dispatch via registry key, not `source_type`; spec 005 will consume this field later
- No `"template_dir"` field needed in the file — the loader defaults to the built-in `public_template/` when absent
- `parser_config` objects inside each venue are unchanged
